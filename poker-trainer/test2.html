<!DOCTYPE html>
<html>
<head>
    <title>Diagnostics v2</title>
</head>
<body style="background: #0a0e1a; color: #fff; padding: 2rem; font-family: monospace;">
    <h1>GTO Poker Trainer - Diagnostics v2</h1>
    <h2 style="color: #00d9ff;">Testing Advanced Solver</h2>
    <div id="status">Loading...</div>
    
    <script src="poker-engine.js"></script>
    <script src="preflop-ranges.js"></script>
    <script src="gto-solver-advanced.js"></script>
    <script>
        const status = document.getElementById('status');
        
        setTimeout(() => {
            let checks = [];
            
            // Check 1: pokerEngine
            checks.push({
                name: 'poker-engine.js',
                status: typeof pokerEngine !== 'undefined',
                detail: typeof pokerEngine
            });
            
            // Check 2: preflopRanges
            checks.push({
                name: 'preflop-ranges.js',
                status: typeof preflopRanges !== 'undefined',
                detail: typeof preflopRanges
            });
            
            // Check 3: AdvancedGTOSolver class
            checks.push({
                name: 'AdvancedGTOSolver class',
                status: typeof AdvancedGTOSolver !== 'undefined',
                detail: typeof AdvancedGTOSolver
            });
            
            // Check 4: gtoSolver instance
            checks.push({
                name: 'gtoSolver instance',
                status: typeof gtoSolver !== 'undefined',
                detail: typeof gtoSolver
            });
            
            // Check 5: window.gtoSolver
            checks.push({
                name: 'window.gtoSolver',
                status: typeof window.gtoSolver !== 'undefined',
                detail: typeof window.gtoSolver
            });
            
            // Check 6: Can initialize
            try {
                if (gtoSolver && gtoSolver.initialize) {
                    gtoSolver.initialize();
                    checks.push({
                        name: 'gtoSolver.initialize()',
                        status: true,
                        detail: 'Success'
                    });
                } else {
                    checks.push({
                        name: 'gtoSolver.initialize()',
                        status: false,
                        detail: 'Method not found'
                    });
                }
            } catch (e) {
                checks.push({
                    name: 'gtoSolver.initialize()',
                    status: false,
                    detail: e.message
                });
            }
            
            // Display results
            let html = '<h2>Results:</h2>';
            let allPassed = true;
            
            checks.forEach(check => {
                const icon = check.status ? '✅' : '❌';
                const color = check.status ? '#44ff44' : '#ff4444';
                html += `<div style="margin: 1rem 0; padding: 1rem; background: #1a2332; border-left: 4px solid ${color};">`;
                html += `<strong>${icon} ${check.name}</strong><br>`;
                html += `<span style="color: #8a9bb0;">Type: ${check.detail}</span><br>`;
                if (!check.status) {
                    html += `<span style="color: #ff6b6b;">FAILED</span>`;
                    allPassed = false;
                } else {
                    html += `<span style="color: #44ff44;">OK</span>`;
                }
                html += '</div>';
            });
            
            if (allPassed) {
                html += '<h2 style="color: #44ff44;">✅ ALL CHECKS PASSED!</h2>';
                html += '<p><a href="/" style="color: #00d9ff; font-size: 1.2rem;">→ GO TO MAIN APP</a></p>';
            } else {
                html += '<h2 style="color: #ff4444;">❌ SOME CHECKS FAILED</h2>';
                html += '<p>Check browser console (F12) for errors</p>';
            }
            
            // Show console logs
            html += '<h3 style="margin-top: 2rem;">Console Output:</h3>';
            html += '<div style="background: #1a2332; padding: 1rem; border-radius: 8px; font-size: 0.9rem;">';
            html += '<pre>Check the browser console (F12) for detailed logs</pre>';
            html += '</div>';
            
            status.innerHTML = html;
        }, 500);
    </script>
</body>
</html>

